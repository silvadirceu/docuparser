
# üéØ Prompt Geral do Sistema ‚Äì DocuParse

Construa uma plataforma web profissional para **upload, extra√ß√£o, valida√ß√£o e padroniza√ß√£o de dados de documentos (PDFs e imagens)**, transformando-os em **JSON estruturado**, com foco em **OCR inteligente, UX avan√ßada e automa√ß√£o**, garantindo seguran√ßa, escalabilidade local e possibilidade de evolu√ß√£o futura.

---

# üß© FRONTEND ‚Äî Requisitos por Fase

## üîπ FASE 1 ‚Äî MVP (Essencial e Funcional)

**Objetivo:** Permitir upload, visualiza√ß√£o e edi√ß√£o b√°sica dos dados extra√≠dos.

### Funcionalidades

* Implementar **autentica√ß√£o por e-mail e senha**
* Criar **Dropzone de Upload**:

  * Suporte a PDF, JPEG e PNG
  * Upload individual
* Tela principal com **Split View**:

  * Coluna esquerda: visualiza√ß√£o do documento (PDF renderizado ou imagem)
  * Coluna direita: JSON extra√≠do em formato edit√°vel
* Permitir:

  * Revisar
  * Editar
  * Salvar dados extra√≠dos
* Hist√≥rico de documentos por usu√°rio

### UX / UI

* Design **Mobile-first (min 375px)**
* Componentes obrigat√≥rios: **Shadcn/UI**

  * Card, Button, Input, Tabs, Skeleton, Toast
* Feedback visual:

  * Skeletons durante processamento
  * Toasts de sucesso/erro
* Identidade visual:

  * Fundo: `#F9FAFB`
  * Azul prim√°rio: `#3B82F6`
  * Fonte: **Inter**
* Header fixo com logo e transi√ß√µes suaves
* Hero Section com CTA ‚ÄúComece Agora‚Äù

---

## üîπ FASE 2 ‚Äî UX Avan√ßada e Produtividade

**Objetivo:** Tornar a revis√£o de dados r√°pida, intuitiva e visual.

### Funcionalidades

* **Modo de edi√ß√£o inline**:

  * Substituir JSON bruto por formul√°rio estruturado
* **Confidence Score por campo**:

  * Exibir campos com baixa confian√ßa (<70) em vermelho
* **Zoom Din√¢mico (Lupa Inteligente)**:

  * Ao clicar em um campo, o documento faz zoom autom√°tico na √°rea correspondente
* **Reordena√ß√£o via Drag & Drop**:

  * Para colunas de tabelas extra√≠das

### UX

* Destaques visuais para:

  * Erros
  * Diverg√™ncias
  * Campos obrigat√≥rios
* Anima√ß√µes suaves (hover, focus, loading)

---

## üîπ FASE 3 ‚Äî Automa√ß√£o e Escala

**Objetivo:** Facilitar opera√ß√µes em massa e integra√ß√£o com outros sistemas.

### Funcionalidades

* **Upload em Lote**:

  * At√© 50 arquivos simult√¢neos
  * Barra de progresso global
* **Exporta√ß√£o de Dados**:

  * Excel (.xlsx)
  * Envio via Webhook
* **Notifica√ß√µes**:

  * Status de processamento (UI, e-mail ou push)

---

# ‚öôÔ∏è BACKEND ‚Äî Requisitos por Fase

## üîπ FASE 1 ‚Äî MVP T√©cnico

**Objetivo:** Processar documentos, extrair dados e armazenar com seguran√ßa.

### Funcionalidades

* API de autentica√ß√£o (JWT ou sess√£o)
* Upload de arquivos com armazenamento local
* Integra√ß√£o com servi√ßo de **OCR + Parsing**
* Convers√£o para **JSON padronizado**
* Persist√™ncia em **SQLite com ORM**
* Controle de acesso:

  * Usu√°rio s√≥ acessa seus pr√≥prios dados (row-level security)

### Estrutura de Dados

```text
users
- id
- email
- password_hash
- created_at

documents
- id
- user_id
- file_path
- original_filename
- file_hash
- detected_type
- created_at

extracted_data
- id
- document_id
- data (JSON)
- created_at
```

---

## üîπ FASE 2 ‚Äî Intelig√™ncia e Valida√ß√£o

**Objetivo:** Aumentar a confiabilidade dos dados extra√≠dos.

### Funcionalidades

* **Confidence Score por campo** (0‚Äì100)
* **Valida√ß√£o cruzada autom√°tica**:

  * Soma de itens √ó valor total (notas fiscais)
* **Detec√ß√£o autom√°tica de tipo de documento**
* Estrutura JSON enriquecida:

```json
{
  "campo": {
    "value": "123,45",
    "confidence": 82,
    "bbox": [x, y, width, height]
  }
}
```

---

## üîπ FASE 3 ‚Äî Performance, Automa√ß√£o e Integra√ß√£o

**Objetivo:** Tornar o sistema robusto e escal√°vel.

### Funcionalidades

* **Fila de Processamento (Background Jobs)**:

  * OCR ass√≠ncrono
  * Ex: Redis + Bull ou fila Python simples
* **Cache de OCR por Hash (MD5/SHA)**:

  * Evitar reprocessamento de arquivos duplicados
* **Processamento em Lote**
* **Webhooks configur√°veis**:

  * Envio autom√°tico ao finalizar processamento
* Endpoint de exporta√ß√£o:

  * Excel
  * JSON estruturado
  * Payload para ERP

---

# üß† Diretrizes Arquiteturais

* Backend preparado para migra√ß√£o futura (PostgreSQL)
* Separa√ß√£o clara:

  * Upload
  * OCR
  * Valida√ß√£o
  * Persist√™ncia
* C√≥digo modular e orientado a servi√ßos
* Logs de processamento e erros

---

# ‚úÖ Resultado Esperado

Um produto:

* Us√°vel desde o MVP
* Evolutivo por fases
* Pronto para escalar
* Com UX profissional
* Focado em **extra√ß√£o de dados confi√°vel**, n√£o apenas OCR bruto


